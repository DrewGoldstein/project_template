---
title: "IDS investigation worksheet"
author: "by Team-Name: User1, User2, User3, User4 & User5."
date: "`r Sys.Date()`"
output: html_document
---

**Note:** You can use this file as you 'working document' where you can try out various investigation ideas and keep notes about your findings. How you use and structure this file is up to you. It is recommended that you keep notes about what you are investigating and what you find as this will make the process of creating your presentation and report easier. Please note that you _do not_ need to submit this file as part of your 
group project.

5 Steps 

- stating and refining question. k

  - Describe - 
  - Explore - analyse for relationships between variables, crime and community variables. 
  - Infer - Analyse data from a group, race, age, income, parents
  - Predict - Predictions on an individual or a population. Must involve the goal variable, Violent crimes per population. A look at the determining factors of Violent Crimes Per Pop
  - Casual - 
  - Mechanistic - how does one variable impact another
  
  - confounding variables?
  
- exploratory data analysis

  - graph against violent crimes per population 
  - frequency distribution
  
  checklist:
  
  - validate
  - top,  bottom, middle rows
  - plot
  - 

- model building

- interpreting results

- communicating results

Data Type, attributes, kinds of questions i can answer.

Objective Statement/ Problem Statement

cleaning 
- NA
- column name
- importing
- remove 0 and 1 from dataset and replace with... 

back up data source


Exploratory Data Analysis:

-What type of variation occurs within variables?

  - what is most common? why?
  - what values are rare? why? does this match expectations?
  - unusual patterns? Explain
  - How are obsrvations within subgroup similar
  - how are observations in different clusters diffeerent from each other
  - explain or descrie clusters
  
See a Pattern? Ask yourself:

- is it coincidence?
- how can you describe the relationship?
- how strong is the relationship
- what other variables may affect the relationship
- does the relationship change if you look at subgroups of the data

-What type of covariation occurs between my variables?




summary statistics
- Mean 
- Standard deviation

visualisations

map

select algorithm/method

evaluate model

The Question.

What is Crime?

- 

What is community?


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


```{r load-lib, message = FALSE}
library(tidyverse)
# Add any other libraries here



```


```{r load-data, include = TRUE}
# load your data 

data <- read.csv("data/crime/communitiesUnnormalized.txt", header = FALSE, na.string = "?")
  
names_lines <- read_lines("data/crime/names.names")
  
  
attribute_lines <- grep("^@attribute", names_lines, value = TRUE)
attribute_lines <- gsub("@attribute ", "", attribute_lines)
attribute_lines <- gsub(" .*", "", attribute_lines)

colnames(data) <- c(attribute_lines)

column_names <- colnames(data)

```

```{r main-program}

# Poverty vs crime

data <- data %>%
  mutate(
    incomeLevel = cut(medIncome, breaks = 3, labels = c("Low", "Middle", "High"), include.lowest = TRUE)
    )

ggplot(data, aes(x = incomeLevel, y = violentPerPop)) +
  geom_boxplot(fill = "orange", color = "black") +
  labs(
    title = "Relation between income level and crimes per population",
    subtitle = "",
    x = "Income Level",
    y = "Violent Crimes"
  ) +
  theme_bw()

ggplot(data, aes(x = pctPoverty, y = violentPerPop)) +
  geom_point(color = "orange") +
  geom_smooth(method = lm, se = FALSE) +
  theme_minimal()

# Family vs crime

family_statistics <- data %>%
  select(medFamIncome, pct2Par, `pctWorkMom-6`, violentPerPop) %>%
  drop_na()

family_statistics <- family_statistics %>%
  rename(
    "Median Family Income" = medFamIncome,
    "Percentage of families with two parents" = pct2Par,
    "Percentage of working moms with young kids" = `pctWorkMom-6`
  )

# Geography vs crime
 

```